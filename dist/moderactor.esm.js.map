{"version":3,"file":"moderactor.esm.js","sources":["../src/core/adapter.js","../src/core/requests.js","../src/core/state.js","../src/adapters/bridge.js","../src/adapters/forumactif.js","../src/core/utils.js","../src/actions/_base.js","../src/actions/forum.js","../src/actions/topic.js","../src/actions/post.js","../src/actions/user.js","../src/actions/chat.js","../src/interfaces/_base.js","../src/interfaces/ui.js","../src/core/jsonld.js","../src/parsers/pagination.js","../src/parsers/statsForum.js","../src/parsers/statsTopic.js","../src/env.js","../src/moderactor.js"],"sourcesContent":["export class Adapter {\r\n    async get(url) {\r\n        throw new Error(\"Adapter.get not implemented\");\r\n    }\r\n    async post(url, data) {\r\n        throw new Error(\"Adapter.post not implemented\");\r\n    }\r\n    async getForm(url, formSelector) {\r\n        throw new Error(\"Adapter.getForm not implemented\");\r\n    }\r\n    bridge(resp) {\r\n        throw new Error(\"Adapter.bridge not implemented\");\r\n    }\r\n    get tid() {\r\n        return null;\r\n    }\r\n    get pagetype() {\r\n        return \"\";\r\n    }\r\n}\r\n","function encodeForm(data) {\r\n    var form_data = new FormData();\r\n\r\n    for (var key in data) {\r\n        form_data.append(key, data[key]);\r\n    }\r\n    return [...form_data.entries()]\r\n        .map((x) => `${encodeURIComponent(x[0])}=${encodeURIComponent(x[1])}`)\r\n        .join(\"&\");\r\n}\r\n\r\nexport function htmlFromText(text) {\r\n    const parser = new DOMParser();\r\n    return parser.parseFromString(text, \"text/html\");\r\n}\r\n\r\nexport async function httpGet(url) {\r\n    const r = await fetch(url, { credentials: \"same-origin\" });\r\n    const text = await r.text();\r\n    return { ok: r.ok, status: r.status, text, doc: htmlFromText(text) };\r\n}\r\n\r\nexport async function httpPost(url, data) {\r\n    const body = encodeForm(data);\r\n    const r = await fetch(url, {\r\n        method: \"POST\",\r\n        credentials: \"same-origin\",\r\n        headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\",\r\n        },\r\n        body,\r\n    });\r\n    const text = await r.text();\r\n    return { ok: r.ok, status: r.status, text, doc: htmlFromText(text) };\r\n}\r\n","function getTidFromDomOrUrl() {\r\n    const input = document.querySelector(\"input[name=tid]\");\r\n    if (input?.value) return input.value;\r\n\r\n    const anchor = document.querySelector(\"a[href*='&tid=']\");\r\n    const href = anchor?.getAttribute(\"href\") || \"\";\r\n    const m = href.match(/[?&]tid=([a-z0-9]+)/i);\r\n    if (m) return m[1];\r\n\r\n    // fallback: parse pathname (/t123-/f456-)\r\n    const p = location.pathname;\r\n    const t = p.match(/\\/t(\\d+)(?:p\\d+)?-/);\r\n    if (t) return t[1];\r\n    const f = p.match(/\\/f(\\d+)(?:p\\d+)?-/);\r\n    if (f) return f[1];\r\n\r\n    return null;\r\n}\r\n\r\nfunction getPageType() {\r\n    const p = location.pathname;\r\n    if (/^\\/t\\d+(p\\d+)?-/.test(p)) return \"topic\";\r\n    if (/^\\/f\\d+(p\\d+)?-/.test(p)) return \"forum\";\r\n    if (/^\\/c\\d+-/.test(p)) return \"category\";\r\n    if (/^\\/u\\d+-/.test(p)) return \"profile\";\r\n    if (/^\\/privmsg\\?/.test(p)) return \"inbox\";\r\n    const qs = p + location.search;\r\n    const m = qs.match(/\\/modcp\\?mode=([^&]+)/);\r\n    return m ? m[1] : \"\";\r\n}\r\n\r\nfunction getResId() {\r\n    const p = location.pathname;\r\n    let m = p.match(/^\\/[tfc](\\d+)(?:p\\d+)?-/);\r\n    if (!m) m = p.match(/^\\/u(\\d+)/);\r\n    return m ? Number(m[1]) : 0;\r\n}\r\n\r\nfunction getPageNum() {\r\n    const p = location.pathname;\r\n    const m = p.match(/^\\/[tf]\\d+(p\\d+)-/);\r\n    return m ? Number(m[1].slice(1)) : 0;\r\n}\r\n\r\nexport const state = {\r\n    get tid() {\r\n        return getTidFromDomOrUrl();\r\n    },\r\n    get pagetype() {\r\n        return getPageType();\r\n    },\r\n    get resid() {\r\n        return getResId();\r\n    },\r\n    get pagenum() {\r\n        return getPageNum();\r\n    },\r\n    get charset() {\r\n        return (\r\n            document.charset ||\r\n            document.characterSet ||\r\n            \"utf-8\"\r\n        ).toLowerCase();\r\n    },\r\n};\r\n","// ──────────────────────────────────────────────────────────────────────────────\r\n// File: src/adapters/phpbb3/bridge.js\r\n// ──────────────────────────────────────────────────────────────────────────────\r\n// Bridge pour Forumactif : parse les pages de confirmation/erreur\r\n\r\nfunction first(el, sel) {\r\n    return el.querySelector(sel) || undefined;\r\n}\r\nfunction all(el, sel) {\r\n    return Array.from(el.querySelectorAll(sel));\r\n}\r\n\r\nfunction extractMessage(doc) {\r\n    // Récupère tous les <p> et concatène leurs textes\r\n    const ps = Array.from(doc.querySelectorAll(\"p\")).map((p) =>\r\n        p.textContent.trim()\r\n    );\r\n    const text = ps.join(\" \").replace(/\\s+/g, \" \").trim();\r\n    return text;\r\n}\r\n\r\nfunction parseIdsFromHref(href) {\r\n    const ids = {};\r\n    if (!href) return ids;\r\n    const t = href.match(/\\/(?:t|viewtopic\\?.*?t=)(\\d+)/);\r\n    if (t) ids.topic_id = Number(t[1]);\r\n    const f = href.match(/\\/f(\\d+)-/);\r\n    if (f) ids.forum_id = Number(f[1]);\r\n    const p = href.match(/#(\\d+)$/);\r\n    if (p) ids.post_id = Number(p[1]);\r\n    return ids;\r\n}\r\n\r\nfunction inferAction(message) {\r\n    const lower = (message || \"\").toLowerCase();\r\n    if (/déplacé/.test(lower)) return \"topic.move\";\r\n    if (/verrouill/.test(lower) && !/déverrouill/.test(lower))\r\n        return \"topic.lock\";\r\n    if (/déverrouill/.test(lower)) return \"topic.unlock\";\r\n    if (/supprim/.test(lower)) return \"topic.delete\";\r\n    if (/corbeille|poubelle/.test(lower)) return \"topic.trash\";\r\n    if (/répon|enregistré avec succès/.test(lower)) return \"topic.post\";\r\n    if (/nouveau sujet/.test(lower)) return \"forum.post\";\r\n    if (/message priv/.test(lower)) return \"user.pm\";\r\n    if (/banni/.test(lower)) return \"user.ban\";\r\n    if (/débanni|unban/.test(lower)) return \"user.unban\";\r\n    return \"unknown\";\r\n}\r\n\r\nfunction validateOk(action, message) {\r\n    const lowerMsg = (message || \"\").toLowerCase();\r\n    switch (action) {\r\n        case \"topic.move\":\r\n            return /déplacé/.test(lowerMsg);\r\n        case \"topic.lock\":\r\n            return /verrouill/.test(lowerMsg);\r\n        case \"topic.unlock\":\r\n            return /déverrouill/.test(lowerMsg);\r\n        case \"topic.delete\":\r\n            return /supprim/.test(lowerMsg);\r\n        case \"topic.trash\":\r\n            return /corbeille|poubelle/.test(lowerMsg);\r\n        case \"topic.post\":\r\n            return /répon|enregistré avec succès/.test(lowerMsg);\r\n        case \"forum.post\":\r\n            return /nouveau sujet/.test(lowerMsg);\r\n        case \"user.pm\":\r\n            return /message priv/.test(lowerMsg);\r\n        case \"user.ban\":\r\n            return /banni/.test(lowerMsg);\r\n        case \"user.unban\":\r\n            return /débanni|unban/.test(lowerMsg);\r\n        default:\r\n            return false;\r\n    }\r\n}\r\n\r\nexport function bridgeParse(resp) {\r\n    const { doc, text } = resp;\r\n    const message = extractMessage(doc);\r\n\r\n    const firstLink = first(doc, \"a[href]\");\r\n    const href = firstLink ? firstLink.getAttribute(\"href\") : \"\";\r\n    const ids = parseIdsFromHref(href);\r\n\r\n    const action = inferAction(message);\r\n    const ok = validateOk(action, message);\r\n\r\n    const links = {\r\n        first: href || undefined,\r\n        topic:\r\n            all(doc, 'a[href^=\"/t\"], a[href*=\"viewtopic\"]').map((a) =>\r\n                a.getAttribute(\"href\")\r\n            )[0] || undefined,\r\n        forum:\r\n            all(doc, 'a[href^=\"/f\"]').map((a) => a.getAttribute(\"href\"))[0] ||\r\n            undefined,\r\n    };\r\n\r\n    return {\r\n        ok,\r\n        status: resp.status,\r\n        action,\r\n        message,\r\n        ids,\r\n        links,\r\n        href,\r\n        raw: text,\r\n    };\r\n}\r\n\r\nexport const __bridgeInternals = {\r\n    extractMessage,\r\n    parseIdsFromHref,\r\n    inferAction,\r\n    validateOk,\r\n};\r\n","import { Adapter } from \"../core/adapter.js\";\r\nimport { httpGet, httpPost } from \"../core/requests.js\";\r\nimport { state } from \"../core/state.js\";\r\nimport { bridgeParse } from \"./bridge.js\";\r\n\r\nclass ForumactifAdapter extends Adapter {\r\n    async get(url) {\r\n        return httpGet(url);\r\n    }\r\n    async post(url, data) {\r\n        return httpPost(url, data);\r\n    }\r\n\r\n    async getForm(url, formSelector) {\r\n        const resp = await this.get(url);\r\n        if (!resp.ok)\r\n            return { ok: false, status: resp.status, text: resp.text };\r\n        const form = resp.doc.querySelector(formSelector);\r\n        if (!form) return { ok: false, status: 404, text: \"Form not found\" };\r\n        const fd = new FormData(form);\r\n        const obj = Object.fromEntries(fd.entries());\r\n        return { ok: true, data: obj, doc: resp.doc };\r\n    }\r\n\r\n    bridge(resp) {\r\n        return bridgeParse(resp);\r\n    }\r\n    get tid() {\r\n        return state.tid;\r\n    }\r\n    get pagetype() {\r\n        return state.pagetype;\r\n    }\r\n}\r\n\r\nconst forumactifAdapter = new ForumactifAdapter();\r\nexport default forumactifAdapter;\r\n","export const isArray = Array.isArray;\r\n\r\nexport const toArray = (v) => (v == null ? [] : isArray(v) ? v : [v]);\r\n\r\nexport function byIdOrArray(input) {\r\n    return toArray(input)\r\n        .filter((x) => x != null)\r\n        .map((x) => (typeof x === \"number\" ? x : parseInt(String(x), 10)))\r\n        .filter((x) => Number.isFinite(x) && x > 0);\r\n}\r\n\r\nexport function safeLower(s) {\r\n    return String(s || \"\").toLowerCase();\r\n}\r\nexport function text(el) {\r\n    return (el?.textContent || \"\").trim();\r\n}\r\nexport function toISO(d) {\r\n    try {\r\n        return new Date(d).toISOString();\r\n    } catch {\r\n        return undefined;\r\n    }\r\n}\r\n\r\nexport const getDirectText = (el) =>\r\n    !el\r\n        ? \"\"\r\n        : Array.from(el.childNodes)\r\n              .filter((n) => n.nodeType === Node.TEXT_NODE)\r\n              .map((n) => n.nodeValue.trim())\r\n              .filter(Boolean)\r\n              .join(\" \");\r\n\r\nexport const num = (s) => {\r\n    const m = String(s || \"\")\r\n        .replace(/\\s/g, \"\")\r\n        .match(/-?\\d+/);\r\n    return m ? Number(m[0]) : undefined;\r\n};\r\n\r\nexport const idsFromHref = (href) => {\r\n    const ids = {};\r\n    if (!href) return ids;\r\n    const t = href.match(/\\/t(\\d+)/) || href.match(/[?&]t=(\\d+)/);\r\n    const p = href.match(/#p?(\\d+)$/);\r\n    const f = href.match(/\\/f(\\d+)-/);\r\n    if (t) ids.topic_id = Number(t[1]);\r\n    if (p) ids.post_id = Number(p[1]);\r\n    if (f) ids.forum_id = Number(f[1]);\r\n    return ids;\r\n};\r\n\r\nexport function uniq(arr) {\r\n    return Array.from(new Set(arr));\r\n}\r\n\r\n// Extrait {id, slug} depuis une URL canonique /t238-mon-sujet\r\nexport function parseFromUrl(u) {\r\n    try {\r\n        const href = typeof u === \"string\" ? u : u?.href || \"\";\r\n        const m = href.match(/\\/[ftc](\\d+)(?:[p]\\d+)?-([a-z0-9-]+)/i);\r\n        return m ? { id: Number(m[1]), slug: m[2] } : {};\r\n    } catch {\r\n        return {};\r\n    }\r\n}\r\n","import { byIdOrArray } from \"../core/utils.js\";\r\n\r\nexport class BaseResource {\r\n    constructor(ids, adapter) {\r\n        this.ids = byIdOrArray(ids);\r\n        this.adapter = adapter;\r\n    }\r\n    _all(promises) {\r\n        return Promise.all(promises);\r\n    }\r\n}\r\n","import { BaseResource } from \"./_base.js\";\r\n\r\nexport default class ForumResource extends BaseResource {\r\n    async post(input) {\r\n        const { subject, message, notify = 0 } = input || {};\r\n        if (!subject || !message)\r\n            throw new Error(\"Forum.post: subject et message sont requis\");\r\n        const tasks = this.ids.map((f) =>\r\n            this.adapter\r\n                .post(\"/post\", {\r\n                    post: 1,\r\n                    mode: \"newtopic\",\r\n                    f,\r\n                    subject,\r\n                    message,\r\n                    notify,\r\n                })\r\n                .then((r) => this.adapter.bridge(r))\r\n        );\r\n        return this._all(tasks);\r\n    }\r\n}\r\n","import { BaseResource } from \"./_base.js\";\r\n\r\nexport default class TopicResource extends BaseResource {\r\n    async post(input) {\r\n        const { message, notify = 0 } = input || {};\r\n        if (!message) throw new Error(\"Topic.post: message est requis\");\r\n        const tasks = this.ids.map((t) =>\r\n            this.adapter\r\n                .post(\"/post\", { post: 1, mode: \"reply\", t, message, notify })\r\n                .then((r) => this.adapter.bridge(r))\r\n        );\r\n        return this._all(tasks);\r\n    }\r\n\r\n    async lock() {\r\n        const tid = this.adapter.tid;\r\n        if (!tid) throw new Error(\"Topic.lock: tid introuvable\");\r\n        const tasks = this.ids.map((t) =>\r\n            this.adapter\r\n                .get(`/modcp?mode=lock&t=${t}&tid=${tid}`)\r\n                .then((r) => this.adapter.bridge(r))\r\n        );\r\n        return this._all(tasks);\r\n    }\r\n\r\n    async unlock() {\r\n        const tid = this.adapter.tid;\r\n        if (!tid) throw new Error(\"Topic.unlock: tid introuvable\");\r\n        const tasks = this.ids.map((t) =>\r\n            this.adapter\r\n                .get(`/modcp?mode=unlock&t=${t}&tid=${tid}`)\r\n                .then((r) => this.adapter.bridge(r))\r\n        );\r\n        return this._all(tasks);\r\n    }\r\n\r\n    async move(newForumId) {\r\n        if (!newForumId) throw new Error(\"Topic.move: forum id manquant\");\r\n        const tid = this.adapter.tid;\r\n        if (!tid) throw new Error(\"Topic.move: tid introuvable\");\r\n        const tasks = this.ids.map((t) =>\r\n            this.adapter\r\n                .post(`/modcp?tid=${tid}`, {\r\n                    tid,\r\n                    new_forum: \"f\" + newForumId,\r\n                    mode: \"move\",\r\n                    t,\r\n                    confirm: 1,\r\n                })\r\n                .then((r) => this.adapter.bridge(r))\r\n        );\r\n        return this._all(tasks);\r\n    }\r\n\r\n    async trash() {\r\n        const tid = this.adapter.tid;\r\n        if (!tid) throw new Error(\"Topic.trash: tid introuvable\");\r\n        const tasks = this.ids.map((t) =>\r\n            this.adapter\r\n                .get(`/modcp?mode=trash&t=${t}&tid=${tid}`)\r\n                .then((r) => this.adapter.bridge(r))\r\n        );\r\n        return this._all(tasks);\r\n    }\r\n\r\n    async delete() {\r\n        const tid = this.adapter.tid;\r\n        if (!tid) throw new Error(\"Topic.remove: tid introuvable\");\r\n        const tasks = this.ids.map((t) =>\r\n            this.adapter\r\n                .post(`/modcp?tid=${tid}`, { t, mode: \"delete\", confirm: 1 })\r\n                .then((r) => this.adapter.bridge(r))\r\n        );\r\n        return this._all(tasks);\r\n    }\r\n}\r\n","import { BaseResource } from \"./_base.js\";\r\n\r\nexport default class PostResource extends BaseResource {\r\n    async delete() {\r\n        const tasks = this.ids.map((p) =>\r\n            this.adapter\r\n                .post(\"/post\", { p, mode: \"delete\", confirm: \"\" })\r\n                .then((r) => this.adapter.bridge(r))\r\n        );\r\n        return this._all(tasks);\r\n    }\r\n\r\n    async update({ message }) {\r\n        if (!message) throw new Error(\"Post.update: message requis\");\r\n        const tasks = this.ids.map(async (p) => {\r\n            const form = await this.adapter.getForm(\r\n                `/post?p=${p}&mode=editpost`,\r\n                'form[name=\"post\"]'\r\n            );\r\n            if (!form.ok) return form;\r\n            const data = { ...form.data, message };\r\n            data.post = 1;\r\n            const resp = await this.adapter.post(\"/post\", data);\r\n            return this.adapter.bridge(resp);\r\n        });\r\n        return this._all(tasks);\r\n    }\r\n}\r\n","import { BaseResource } from \"./_base.js\";\r\n\r\nexport default class UserResource extends BaseResource {\r\n    async pm({ subject, message }) {\r\n        if (!subject || !message)\r\n            throw new Error(\"User.pm: subject et message requis\");\r\n        const username = this.ids.join(\", \");\r\n        const resp = await this.adapter.post(\"/privmsg\", {\r\n            username,\r\n            mode: \"post\",\r\n            post: 1,\r\n            subject,\r\n            message,\r\n        });\r\n        return this.adapter.bridge(resp);\r\n    }\r\n\r\n    async ban({ days = 0, reason = \"\" } = {}) {\r\n        const tid = this.adapter.tid;\r\n        if (!tid) throw new Error(\"User.ban: tid introuvable\");\r\n        const tasks = this.ids.map((user_id) =>\r\n            this.adapter\r\n                .post(`/modcp?tid=${tid}`, {\r\n                    tid,\r\n                    confirm: 1,\r\n                    mode: \"ban\",\r\n                    user_id,\r\n                    ban_user_date: days,\r\n                    ban_user_reason: reason,\r\n                })\r\n                .then((r) => this.adapter.bridge(r))\r\n        );\r\n        return this._all(tasks);\r\n    }\r\n\r\n    async unban() {\r\n        const tid = this.adapter.tid;\r\n        if (!tid) throw new Error(\"User.unban: tid introuvable\");\r\n        const resp = await this.adapter.post(\r\n            `/admin/index.forum?part=users_groups&sub=users&mode=ban_control&extended_admin=1&tid=${tid}`,\r\n            { users_to_unban: this.ids, unban_users: 1 }\r\n        );\r\n        return this.adapter.bridge(resp);\r\n    }\r\n}\r\n","import { BaseResource } from \"./_base.js\";\r\n\r\nexport default class ChatResource extends BaseResource {\r\n    constructor(adapter) {\r\n        super([], adapter);\r\n    }\r\n    async post({ message }) {\r\n        if (!message) throw new Error(\"Chat.post: message requis\");\r\n        await this.adapter.post(\"/chatbox/actions.forum\", {\r\n            method: \"send\",\r\n            archive: 0,\r\n            message,\r\n        });\r\n        return { ok: true };\r\n    }\r\n}\r\n","// default options and extend with custom\r\nconst defaultOptions = {\r\n    targetContainer: null, // if null, append to body\r\n};\r\n\r\nexport default class BaseInterface {\r\n    constructor(adapter, options) {\r\n        this.adapter = adapter;\r\n        this.options = { ...defaultOptions, ...options };\r\n\r\n        // état du sélecteur d’actions\r\n        this._actionsRegistry = new Map(); // key -> { label, iconSVG }\r\n        this._visibleActions = []; // liste des keys visibles\r\n        this._selectedAction = null; // key sélectionnée\r\n        this._actionHandlers = new Set(); // callbacks onAction\r\n\r\n        this.build();\r\n    }\r\n\r\n    getContext() {\r\n        return this._resolveContext();\r\n    }\r\n\r\n    build() {\r\n        if (typeof document === \"undefined\") return;\r\n\r\n        const scope = this.options?.targetContainer || document;\r\n        const existingContainer = scope.querySelector(\r\n            \".moderactor-ui-container\"\r\n        );\r\n        if (existingContainer) existingContainer.remove();\r\n\r\n        this.container = document.createElement(\"div\");\r\n        this.container.classList.add(\"moderactor-ui-container\");\r\n\r\n        const fragment = document.createDocumentFragment();\r\n        fragment.appendChild(this.container);\r\n\r\n        (this.options?.targetContainer || document.body).appendChild(fragment);\r\n\r\n        this._buildActionSelect();\r\n\r\n        this._buildComposer();\r\n\r\n        this.onAction((key) => {\r\n            const ctx = this.getContext();\r\n            if (key === \"delete\") {\r\n                this._confirmAndDelete(ctx);\r\n            } else {\r\n                this._renderComposerFor(key, ctx);\r\n            }\r\n        });\r\n\r\n        console.log(\"Moderactor UI container ready:\", this.container);\r\n    }\r\n\r\n    defineActions(actionMap) {\r\n        // actionMap: { key: {label: string, icon: string (SVG path or full svg)} }\r\n        for (const [key, def] of Object.entries(actionMap)) {\r\n            const safe = {\r\n                label: def.label ?? key,\r\n                icon: def.icon ?? \"\", // innerHTML (svg string) ou texte\r\n            };\r\n            this._actionsRegistry.set(key, safe);\r\n        }\r\n        // si rien de visible encore, rendre visibles toutes par défaut\r\n        if (!this._visibleActions.length) {\r\n            this._visibleActions = [...this._actionsRegistry.keys()];\r\n            this._renderActionMenu();\r\n        }\r\n    }\r\n\r\n    setActions(keys) {\r\n        // restreint aux clés connues\r\n        this._visibleActions = keys.filter((k) => this._actionsRegistry.has(k));\r\n        // si la sélection actuelle n’est plus visible, bascule sur la première\r\n        if (!this._visibleActions.includes(this._selectedAction)) {\r\n            this._selectedAction = this._visibleActions[0] ?? null;\r\n        }\r\n        this._renderActionMenu();\r\n        this._updateActionButton();\r\n    }\r\n\r\n    selectAction(key) {\r\n        if (!this._actionsRegistry.has(key)) return;\r\n        this._selectedAction = key;\r\n        this._updateActionButton();\r\n        this._announceAction(key);\r\n    }\r\n\r\n    onAction(fn) {\r\n        if (typeof fn === \"function\") this._actionHandlers.add(fn);\r\n        return () => this._actionHandlers.delete(fn);\r\n    }\r\n\r\n    // compat avec ton appel existant\r\n    morphButtonDropdown(switchOption) {\r\n        this.selectAction(switchOption);\r\n    }\r\n    _buildActionSelect() {\r\n        // wrapper\r\n        this.actionRoot = document.createElement(\"div\");\r\n        this.actionRoot.className = \"mdr-action-select\";\r\n\r\n        // bouton toggle\r\n        this.actionButton = document.createElement(\"button\");\r\n        this.actionButton.type = \"button\";\r\n        this.actionButton.className = \"mdr-action-btn\";\r\n        this.actionButton.setAttribute(\"aria-haspopup\", \"listbox\");\r\n        this.actionButton.setAttribute(\"aria-expanded\", \"false\");\r\n        this.actionButton.innerHTML = `\r\n      <span class=\"mdr-action-icon\" aria-hidden=\"true\"></span>\r\n      <span class=\"mdr-action-label\"></span>\r\n      <span class=\"mdr-action-caret\" aria-hidden=\"true\">▾</span>\r\n    `;\r\n        this.actionRoot.appendChild(this.actionButton);\r\n\r\n        // menu (listbox)\r\n        this.actionMenu = document.createElement(\"ul\");\r\n        this.actionMenu.className = \"mdr-action-menu\";\r\n        this.actionMenu.setAttribute(\"role\", \"listbox\");\r\n        this.actionMenu.tabIndex = -1;\r\n        this.actionMenu.hidden = true;\r\n        this.actionRoot.appendChild(this.actionMenu);\r\n\r\n        // interactivité\r\n        this._bindActionSelectEvents();\r\n\r\n        // insérer dans le container\r\n        this.container.appendChild(this.actionRoot);\r\n\r\n        // valeurs par défaut (tu peux les surcharger via defineActions)\r\n        if (this._actionsRegistry.size === 0) {\r\n            this.defineActions({\r\n                create: { label: \"Créer\", icon: this._svgPlus() },\r\n                reply: { label: \"Répondre\", icon: this._svgReply() },\r\n                \"new-pm\": { label: \"Nouveau MP\", icon: this._svgMail() },\r\n                delete: { label: \"Supprimer\", icon: this._svgTrash() },\r\n            });\r\n            this._selectedAction = \"create\";\r\n            this._renderActionMenu();\r\n            this._updateActionButton();\r\n        }\r\n    }\r\n\r\n    _bindActionSelectEvents() {\r\n        // ouvrir/fermer\r\n        this.actionButton.addEventListener(\"click\", () => {\r\n            const isOpen =\r\n                this.actionButton.getAttribute(\"aria-expanded\") === \"true\";\r\n            this._setMenuOpen(!isOpen);\r\n        });\r\n\r\n        // clavier sur bouton\r\n        this.actionButton.addEventListener(\"keydown\", (e) => {\r\n            if (e.key === \"ArrowDown\" || e.key === \"ArrowUp\") {\r\n                e.preventDefault();\r\n                this._setMenuOpen(true);\r\n                this._focusFirstOrLast(e.key === \"ArrowUp\");\r\n            } else if (e.key === \"Enter\" || e.key === \" \") {\r\n                e.preventDefault();\r\n                const isOpen =\r\n                    this.actionButton.getAttribute(\"aria-expanded\") === \"true\";\r\n                this._setMenuOpen(!isOpen);\r\n            }\r\n        });\r\n\r\n        // clicks et clavier dans le menu\r\n        this.actionMenu.addEventListener(\"click\", (e) => {\r\n            const li = e.target.closest(\"[role='option']\");\r\n            if (!li) return;\r\n            this.selectAction(li.dataset.key);\r\n            this._setMenuOpen(false);\r\n            this.actionButton.focus();\r\n        });\r\n\r\n        this.actionMenu.addEventListener(\"keydown\", (e) => {\r\n            const items = this._menuItems();\r\n            const idx = items.indexOf(document.activeElement);\r\n            if (e.key === \"Escape\") {\r\n                e.preventDefault();\r\n                this._setMenuOpen(false);\r\n                this.actionButton.focus();\r\n            } else if (e.key === \"ArrowDown\") {\r\n                e.preventDefault();\r\n                const next = items[(idx + 1) % items.length];\r\n                next?.focus();\r\n            } else if (e.key === \"ArrowUp\") {\r\n                e.preventDefault();\r\n                const prev = items[(idx - 1 + items.length) % items.length];\r\n                prev?.focus();\r\n            } else if (e.key === \"Home\") {\r\n                e.preventDefault();\r\n                items[0]?.focus();\r\n            } else if (e.key === \"End\") {\r\n                e.preventDefault();\r\n                items[items.length - 1]?.focus();\r\n            } else if (e.key === \"Enter\" || e.key === \" \") {\r\n                e.preventDefault();\r\n                const li = document.activeElement;\r\n                if (li?.dataset?.key) {\r\n                    this.selectAction(li.dataset.key);\r\n                    this._setMenuOpen(false);\r\n                    this.actionButton.focus();\r\n                }\r\n            }\r\n        });\r\n\r\n        // fermeture click en dehors\r\n        document.addEventListener(\"click\", (e) => {\r\n            if (!this.actionRoot.contains(e.target)) this._setMenuOpen(false);\r\n        });\r\n    }\r\n\r\n    _renderActionMenu() {\r\n        // reconstruit la liste visible\r\n        this.actionMenu.innerHTML = \"\";\r\n        for (const key of this._visibleActions) {\r\n            const def = this._actionsRegistry.get(key);\r\n            if (!def) continue;\r\n            const li = document.createElement(\"li\");\r\n            li.setAttribute(\"role\", \"option\");\r\n            li.tabIndex = -1;\r\n            li.dataset.key = key;\r\n            li.className = \"mdr-action-item\";\r\n            li.innerHTML = `\r\n        <span class=\"mdr-action-item-icon\" aria-hidden=\"true\">${def.icon}</span>\r\n        <span class=\"mdr-action-item-label\">${def.label}</span>\r\n      `;\r\n            this.actionMenu.appendChild(li);\r\n        }\r\n        // marquer l’option sélectionnée\r\n        this._updateMenuSelection();\r\n    }\r\n\r\n    _updateActionButton() {\r\n        const def = this._actionsRegistry.get(this._selectedAction);\r\n        const iconSpan = this.actionButton.querySelector(\".mdr-action-icon\");\r\n        const labelSpan = this.actionButton.querySelector(\".mdr-action-label\");\r\n        iconSpan.innerHTML = def?.icon ?? \"\";\r\n        labelSpan.textContent = def?.label ?? \"\";\r\n        this._updateMenuSelection();\r\n    }\r\n\r\n    _updateMenuSelection() {\r\n        const items = this._menuItems();\r\n        for (const li of items) {\r\n            const selected = li.dataset.key === this._selectedAction;\r\n            li.setAttribute(\"aria-selected\", String(selected));\r\n            li.classList.toggle(\"is-selected\", selected);\r\n        }\r\n    }\r\n\r\n    _setMenuOpen(open) {\r\n        this.actionButton.setAttribute(\"aria-expanded\", String(open));\r\n        this.actionMenu.hidden = !open;\r\n        if (open) this._focusCurrentOrFirst();\r\n    }\r\n\r\n    _menuItems() {\r\n        return Array.from(this.actionMenu.querySelectorAll(\"[role='option']\"));\r\n    }\r\n\r\n    _focusFirstOrLast(last = false) {\r\n        const items = this._menuItems();\r\n        const el = last ? items[items.length - 1] : items[0];\r\n        el?.focus();\r\n    }\r\n\r\n    _focusCurrentOrFirst() {\r\n        const items = this._menuItems();\r\n        const current = items.find(\r\n            (li) => li.dataset.key === this._selectedAction\r\n        );\r\n        (current ?? items[0])?.focus();\r\n    }\r\n\r\n    _announceAction(key) {\r\n        // callbacks\r\n        for (const fn of this._actionHandlers) {\r\n            try {\r\n                fn(key);\r\n            } catch {}\r\n        }\r\n        // CustomEvent (si tu veux écouter ailleurs)\r\n        this.container.dispatchEvent(\r\n            new CustomEvent(\"mdr:action\", { detail: { key } })\r\n        );\r\n    }\r\n\r\n    // --------- petites icônes SVG inline (tu peux remplacer) -------------------\r\n    _svgPlus() {\r\n        return `<svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z\"/></svg>`;\r\n    }\r\n    _svgReply() {\r\n        return `<svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"M10 9V5l-7 7 7 7v-4.1c6 0 9.5 1.9 11 6.1-.5-6-4-12-11-12z\"/></svg>`;\r\n    }\r\n    _svgMail() {\r\n        return `<svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"M20 4H4c-1.1 0-2 .9-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5L4 8V6l8 5 8-5v2z\"/></svg>`;\r\n    }\r\n    _svgTrash() {\r\n        return `<svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"M3 6h18v2H3V6zm3 3h12l-1 12H7L6 9zm3-5h6v2H9V4z\"/></svg>`;\r\n    }\r\n\r\n    // -----------------------------------------------------------\r\n    //           MINI‑COMPOSER : UI + logique de submit\r\n    // -----------------------------------------------------------\r\n\r\n    _buildComposer() {\r\n        this.composerRoot = document.createElement(\"div\");\r\n        this.composerRoot.className = \"mdr-composer\";\r\n        this.composerRoot.hidden = true;\r\n\r\n        this.composerForm = document.createElement(\"form\");\r\n        this.composerForm.className = \"mdr-composer-form\";\r\n        this.composerForm.noValidate = true;\r\n\r\n        // zone dynamique\r\n        this.composerFields = document.createElement(\"div\");\r\n        this.composerFields.className = \"mdr-composer-fields\";\r\n\r\n        // barre d’actions\r\n        const actionsBar = document.createElement(\"div\");\r\n        actionsBar.className = \"mdr-composer-actions\";\r\n\r\n        this.composerSubmit = document.createElement(\"button\");\r\n        this.composerSubmit.type = \"submit\";\r\n        this.composerSubmit.className = \"mdr-btn mdr-btn--primary\";\r\n        this.composerSubmit.textContent = \"Envoyer\";\r\n\r\n        const cancelBtn = document.createElement(\"button\");\r\n        cancelBtn.type = \"button\";\r\n        cancelBtn.className = \"mdr-btn\";\r\n        cancelBtn.textContent = \"Annuler\";\r\n        cancelBtn.addEventListener(\"click\", () => {\r\n            this._hideComposer();\r\n        });\r\n\r\n        actionsBar.appendChild(this.composerSubmit);\r\n        actionsBar.appendChild(cancelBtn);\r\n\r\n        this.composerForm.appendChild(this.composerFields);\r\n        this.composerForm.appendChild(actionsBar);\r\n        this.composerRoot.appendChild(this.composerForm);\r\n        this.container.appendChild(this.composerRoot);\r\n\r\n        // submit → route vers la bonne Resource\r\n        this.composerForm.addEventListener(\"submit\", (e) => {\r\n            e.preventDefault();\r\n            this._handleComposerSubmit();\r\n        });\r\n    }\r\n\r\n    _showComposer() {\r\n        this.composerRoot.hidden = false;\r\n    }\r\n    _hideComposer() {\r\n        this.composerRoot.hidden = true;\r\n        this.composerFields.innerHTML = \"\";\r\n    }\r\n\r\n    _inputRow({ label, name, type = \"text\", placeholder = \"\", value = \"\" }) {\r\n        const row = document.createElement(\"label\");\r\n        row.className = \"mdr-row\";\r\n        const span = document.createElement(\"span\");\r\n        span.className = \"mdr-row-label\";\r\n        span.textContent = label;\r\n        const input = document.createElement(\"input\");\r\n        input.type = type;\r\n        input.name = name;\r\n        input.placeholder = placeholder;\r\n        input.value = value;\r\n        input.className = \"mdr-input\";\r\n        row.appendChild(span);\r\n        row.appendChild(input);\r\n        return row;\r\n    }\r\n\r\n    _textareaRow({ label, name, placeholder = \"\", value = \"\" }) {\r\n        const row = document.createElement(\"label\");\r\n        row.className = \"mdr-row\";\r\n        const span = document.createElement(\"span\");\r\n        span.className = \"mdr-row-label\";\r\n        span.textContent = label;\r\n        const ta = document.createElement(\"textarea\");\r\n        ta.name = name;\r\n        ta.placeholder = placeholder;\r\n        ta.value = value;\r\n        ta.rows = 6;\r\n        ta.className = \"mdr-textarea\";\r\n        row.appendChild(span);\r\n        row.appendChild(ta);\r\n        return row;\r\n    }\r\n\r\n    _renderComposerFor(actionKey, ctx) {\r\n        this.composerFields.innerHTML = \"\";\r\n        this.composerRoot.hidden = false;\r\n\r\n        // header accessible\r\n        this.composerRoot.setAttribute(\"aria-label\", `Composer: ${actionKey}`);\r\n\r\n        if (actionKey === \"create\") {\r\n            // créer un topic dans un forum\r\n            this.composerFields.appendChild(\r\n                this._inputRow({\r\n                    label: \"Titre\",\r\n                    name: \"title\",\r\n                    placeholder: \"Titre du sujet\",\r\n                })\r\n            );\r\n            this.composerFields.appendChild(\r\n                this._textareaRow({\r\n                    label: \"Contenu\",\r\n                    name: \"content\",\r\n                    placeholder: \"Écris ton message…\",\r\n                })\r\n            );\r\n            // forumId (visible seulement si non détecté)\r\n            if (!ctx.forumId && !ctx.categoryId) {\r\n                this.composerFields.appendChild(\r\n                    this._inputRow({\r\n                        label: \"Forum ID\",\r\n                        name: \"forumId\",\r\n                        type: \"number\",\r\n                        placeholder: \"Ex: 12\",\r\n                    })\r\n                );\r\n            }\r\n            this.composerSubmit.textContent = \"Créer le sujet\";\r\n        }\r\n\r\n        if (actionKey === \"reply\") {\r\n            // répondre dans un topic\r\n            this.composerFields.appendChild(\r\n                this._textareaRow({\r\n                    label: \"Réponse\",\r\n                    name: \"content\",\r\n                    placeholder: \"Ta réponse…\",\r\n                })\r\n            );\r\n            // topicId (si non détecté)\r\n            if (!ctx.topicId && !ctx.resid) {\r\n                this.composerFields.appendChild(\r\n                    this._inputRow({\r\n                        label: \"Topic ID\",\r\n                        name: \"topicId\",\r\n                        type: \"number\",\r\n                        placeholder: \"Ex: 345\",\r\n                    })\r\n                );\r\n            }\r\n            this.composerSubmit.textContent = \"Répondre\";\r\n        }\r\n\r\n        if (actionKey === \"new-pm\") {\r\n            // message privé\r\n            this.composerFields.appendChild(\r\n                this._inputRow({\r\n                    label: \"Sujet\",\r\n                    name: \"subject\",\r\n                    placeholder: \"Sujet du message\",\r\n                })\r\n            );\r\n            this.composerFields.appendChild(\r\n                this._textareaRow({\r\n                    label: \"Message\",\r\n                    name: \"content\",\r\n                    placeholder: \"Ton message…\",\r\n                })\r\n            );\r\n            // userId (si non détecté)\r\n            if (!ctx.userId) {\r\n                this.composerFields.appendChild(\r\n                    this._inputRow({\r\n                        label: \"Destinataire (userId)\",\r\n                        name: \"userId\",\r\n                        type: \"number\",\r\n                        placeholder: \"Ex: 123\",\r\n                    })\r\n                );\r\n            }\r\n            this.composerSubmit.textContent = \"Envoyer le MP\";\r\n        }\r\n\r\n        // focus le 1er champ utile\r\n        const firstInput = this.composerFields.querySelector(\"input, textarea\");\r\n        firstInput?.focus();\r\n    }\r\n\r\n    _handleComposerSubmit() {\r\n        const formData = new FormData(this.composerForm);\r\n        const data = Object.fromEntries(formData.entries());\r\n        const key = this._selectedAction;\r\n        const ctx = this.getContext();\r\n        const M =\r\n            typeof window !== \"undefined\" && window.Moderactor\r\n                ? window.Moderactor\r\n                : null;\r\n\r\n        if (!M) {\r\n            console.warn(\"[Moderactor] API globale introuvable.\");\r\n            return;\r\n        }\r\n\r\n        // routes concrètes (ajuste les noms méthodes selon tes Resources réelles)\r\n        if (key === \"create\") {\r\n            const forumId =\r\n                ctx.forumId ??\r\n                ctx.categoryId ??\r\n                (data.forumId ? Number(data.forumId) : null);\r\n            if (!forumId) return this._notifyMissing(\"forumId\");\r\n            const title = (data.title || \"\").trim();\r\n            const content = (data.content || \"\").trim();\r\n            if (!title || !content)\r\n                return alert(\"Titre et contenu sont requis.\");\r\n            try {\r\n                M.forum(forumId).createTopic({ title, content });\r\n                this._hideComposer();\r\n            } catch (e) {\r\n                console.error(e);\r\n                alert(\"Échec de création du sujet.\");\r\n            }\r\n        }\r\n\r\n        if (key === \"reply\") {\r\n            const topicId =\r\n                ctx.topicId ??\r\n                ctx.resid ??\r\n                (data.topicId ? Number(data.topicId) : null);\r\n            if (!topicId) return this._notifyMissing(\"topicId\");\r\n            const content = (data.content || \"\").trim();\r\n            if (!content) return alert(\"Le contenu est requis.\");\r\n            try {\r\n                M.post(topicId).reply({ content });\r\n                this._hideComposer();\r\n            } catch (e) {\r\n                console.error(e);\r\n                alert(\"Échec de l’envoi de la réponse.\");\r\n            }\r\n        }\r\n\r\n        if (key === \"new-pm\") {\r\n            const userId =\r\n                ctx.userId ?? (data.userId ? Number(data.userId) : null);\r\n            const subject = (data.subject || \"\").trim();\r\n            const content = (data.content || \"\").trim();\r\n            if (!subject || !content)\r\n                return alert(\"Sujet et message sont requis.\");\r\n            try {\r\n                // si userId absent, à toi de supporter une liste de destinataires à l’avenir\r\n                M.user(userId).message({ subject, content });\r\n                this._hideComposer();\r\n            } catch (e) {\r\n                console.error(e);\r\n                alert(\"Échec de l’envoi du MP.\");\r\n            }\r\n        }\r\n    }\r\n\r\n    _confirmAndDelete(ctx) {\r\n        const M =\r\n            typeof window !== \"undefined\" && window.Moderactor\r\n                ? window.Moderactor\r\n                : null;\r\n        if (!M) return;\r\n\r\n        const postId = ctx.postId ?? null;\r\n        const pmId = ctx.pmId ?? null;\r\n\r\n        if (!postId && !pmId) {\r\n            return this._notifyMissing(\"postId/pmId\");\r\n        }\r\n\r\n        const targetLabel = postId\r\n            ? `le post #${postId}`\r\n            : `le message privé #${pmId}`;\r\n        if (!confirm(`Supprimer définitivement ${targetLabel} ?`)) return;\r\n\r\n        try {\r\n            if (postId) {\r\n                M.post(postId).delete();\r\n            } else if (pmId) {\r\n                M.chat().delete(pmId);\r\n            }\r\n            // feedback minimal\r\n            alert(\"Suppression effectuée.\");\r\n        } catch (e) {\r\n            console.error(e);\r\n            alert(\"Échec de la suppression.\");\r\n        }\r\n    }\r\n\r\n    // -----------------------------------------------------------\r\n    //           CONTEXTE / DÉTECTION D’ID (déjà en place)\r\n    // -----------------------------------------------------------\r\n\r\n    getContext() {\r\n        return this._resolveContext();\r\n    }\r\n\r\n    _resolveContext() {\r\n        const a = this.adapter || {};\r\n        const ctx = {\r\n            pagetype: a.pagetype || null,\r\n            resid: a.resid ?? null,\r\n            forumId: a.forumid ?? null,\r\n            categoryId: a.categoryid ?? null,\r\n            topicId: a.topicid ?? null,\r\n            postId: a.postid ?? null,\r\n            userId: a.userid ?? null,\r\n            pmId: a.pmid ?? null,\r\n        };\r\n\r\n        const urlData = this._resolveFromUrl();\r\n        for (const k in urlData)\r\n            if (ctx[k] == null && urlData[k] != null) ctx[k] = urlData[k];\r\n\r\n        const domData = this._resolveFromDom();\r\n        for (const k in domData)\r\n            if (ctx[k] == null && domData[k] != null) ctx[k] = domData[k];\r\n\r\n        return ctx;\r\n    }\r\n\r\n    _resolveFromUrl() {\r\n        if (typeof location === \"undefined\") return {};\r\n        const href = location.href;\r\n        const mTopicPath = href.match(/\\/t(\\d+)[-\\/]?/i);\r\n        const mTopicQ = href.match(/[?&]t=(\\d+)/i);\r\n        const mPostPath = href.match(/\\/p(\\d+)[-\\/]?/i);\r\n        const mUserPath = href.match(/\\/u(\\d+)[-\\/]?/i);\r\n        const mForumQ = href.match(/[?&]f=(\\d+)/i);\r\n        const mCatQ = href.match(/[?&]c=(\\d+)/i);\r\n        const mPmQ = href.match(/[?&](msg|id)=(\\d+)/i);\r\n\r\n        return {\r\n            topicId: mTopicPath\r\n                ? Number(mTopicPath[1])\r\n                : mTopicQ\r\n                ? Number(mTopicQ[1])\r\n                : null,\r\n            postId: mPostPath ? Number(mPostPath[1]) : null,\r\n            userId: mUserPath ? Number(mUserPath[1]) : null,\r\n            forumId: mForumQ ? Number(mForumQ[1]) : null,\r\n            categoryId: mCatQ ? Number(mCatQ[1]) : null,\r\n            pmId: mPmQ ? Number(mPmQ[2]) : null,\r\n        };\r\n    }\r\n\r\n    _resolveFromDom() {\r\n        if (typeof document === \"undefined\") return {};\r\n        const pickNum = (sel, attr) => {\r\n            const el = document.querySelector(sel);\r\n            const v = el?.getAttribute(attr);\r\n            const n = v && /^\\d+$/.test(v) ? Number(v) : null;\r\n            return n ?? null;\r\n        };\r\n        return {\r\n            topicId: pickNum(\"[data-topic-id]\", \"data-topic-id\"),\r\n            postId: pickNum(\"[data-post-id]\", \"data-post-id\"),\r\n            userId: pickNum(\"[data-user-id]\", \"data-user-id\"),\r\n            forumId: pickNum(\"[data-forum-id]\", \"data-forum-id\"),\r\n            categoryId: pickNum(\"[data-category-id]\", \"data-category-id\"),\r\n            pmId: pickNum(\"[data-pm-id]\", \"data-pm-id\"),\r\n        };\r\n    }\r\n\r\n    _notifyMissing(name) {\r\n        console.warn(`[Moderactor] impossible d'identifier ${name}.`);\r\n    }\r\n\r\n    // action → ressource\r\n    performAction(key) {\r\n        const ctx = this._resolveContext();\r\n        const M =\r\n            typeof window !== \"undefined\" && window.Moderactor\r\n                ? window.Moderactor\r\n                : null;\r\n        if (!M) return console.warn(\"[Moderactor] API globale introuvable.\");\r\n\r\n        switch (key) {\r\n            case \"create\": {\r\n                // créer un topic dans le forum courant\r\n                const forumId = ctx.forumId ?? ctx.categoryId ?? null;\r\n                if (!forumId) return this._notifyMissing(\"forumId\");\r\n                // ex: ouvrir un composer, ou déclencher un flux natif\r\n                // M.forum(forumId).createTopic({ title: \"...\", content: \"...\" });\r\n                console.log(\"[Action] create → forum:\", forumId);\r\n                break;\r\n            }\r\n            case \"reply\": {\r\n                const topicId = ctx.topicId ?? ctx.resid ?? null;\r\n                if (!topicId) return this._notifyMissing(\"topicId\");\r\n                // M.post(topicId).reply({ content: \"...\" });\r\n                console.log(\"[Action] reply → topic:\", topicId);\r\n                break;\r\n            }\r\n            case \"new-pm\": {\r\n                // Depuis un profil, cible l'userId ; depuis inbox, pas de cible\r\n                const userId = ctx.userId ?? null;\r\n                // M.user(userId).message({ subject: \"...\", content: \"...\" })\r\n                console.log(\"[Action] new-pm → user:\", userId);\r\n                break;\r\n            }\r\n            case \"delete\": {\r\n                // selon le pagetype, on supprime un post/message/topic\r\n                const postId = ctx.postId ?? null;\r\n                const msgId = ctx.pmId ?? null;\r\n                console.log(\"[Action] delete → post:\", postId, \"pm:\", msgId);\r\n                // if (postId) M.post(postId).delete();\r\n                // else if (msgId) M.chat().delete(msgId);\r\n                break;\r\n            }\r\n            default:\r\n                console.warn(\"[Moderactor] action inconnue:\", key);\r\n        }\r\n    }\r\n\r\n    // ---------------------------------------------------------------------------\r\n    // internes : résolution du contexte (adapter d'abord, URL/DOM ensuite)\r\n\r\n    _resolveContext() {\r\n        const a = this.adapter || {};\r\n        const ctx = {\r\n            pagetype: a.pagetype || null,\r\n            resid: a.resid ?? null, // id principal fourni par l’adapter\r\n            forumId: a.forumid ?? null, // si ton adapter les expose\r\n            categoryId: a.categoryid ?? null,\r\n            topicId: a.topicid ?? null,\r\n            postId: a.postid ?? null,\r\n            userId: a.userid ?? null,\r\n            pmId: a.pmid ?? null,\r\n        };\r\n\r\n        // Complète par URL si manquant\r\n        const urlData = this._resolveFromUrl();\r\n        for (const k in urlData)\r\n            if (ctx[k] == null && urlData[k] != null) ctx[k] = urlData[k];\r\n\r\n        // DOM hints (facultatif): ex. <meta data-topic-id=\"123\">\r\n        const domData = this._resolveFromDom();\r\n        for (const k in domData)\r\n            if (ctx[k] == null && domData[k] != null) ctx[k] = domData[k];\r\n\r\n        return ctx;\r\n    }\r\n\r\n    _resolveFromUrl() {\r\n        if (typeof location === \"undefined\") return {};\r\n        const href = location.href;\r\n\r\n        // patterns forumactif (classiques)\r\n        // topic pages: .../t123- , .../topic?p=, ...&t=123\r\n        const mTopicPath = href.match(/\\/t(\\d+)[-\\/]?/i);\r\n        const mTopicQ = href.match(/[?&]t=(\\d+)/i);\r\n        const mPostPath = href.match(/\\/p(\\d+)[-\\/]?/i);\r\n        const mUserPath = href.match(/\\/u(\\d+)[-\\/]?/i);\r\n        const mForumQ = href.match(/[?&]f=(\\d+)/i);\r\n        const mCatQ = href.match(/[?&]c=(\\d+)/i);\r\n        const mPmQ = href.match(/[?&](msg|id)=(\\d+)/i); // privmsg\r\n\r\n        return {\r\n            topicId: mTopicPath\r\n                ? Number(mTopicPath[1])\r\n                : mTopicQ\r\n                ? Number(mTopicQ[1])\r\n                : null,\r\n            postId: mPostPath ? Number(mPostPath[1]) : null,\r\n            userId: mUserPath ? Number(mUserPath[1]) : null,\r\n            forumId: mForumQ ? Number(mForumQ[1]) : null,\r\n            categoryId: mCatQ ? Number(mCatQ[1]) : null,\r\n            pmId: mPmQ ? Number(mPmQ[2]) : null,\r\n        };\r\n    }\r\n\r\n    _resolveFromDom() {\r\n        if (typeof document === \"undefined\") return {};\r\n        const pickNum = (sel, attr) => {\r\n            const el = document.querySelector(sel);\r\n            const v = el?.getAttribute(attr);\r\n            const n = v && /^\\d+$/.test(v) ? Number(v) : null;\r\n            return n ?? null;\r\n        };\r\n\r\n        // à toi d’ajouter des hooks si ton thème fournit des data-* (exemples)\r\n        return {\r\n            topicId: pickNum(\"[data-topic-id]\", \"data-topic-id\"),\r\n            postId: pickNum(\"[data-post-id]\", \"data-post-id\"),\r\n            userId: pickNum(\"[data-user-id]\", \"data-user-id\"),\r\n            forumId: pickNum(\"[data-forum-id]\", \"data-forum-id\"),\r\n            categoryId: pickNum(\"[data-category-id]\", \"data-category-id\"),\r\n            pmId: pickNum(\"[data-pm-id]\", \"data-pm-id\"),\r\n        };\r\n    }\r\n\r\n    _notifyMissing(name) {\r\n        console.warn(`[Moderactor] impossible d'identifier ${name}.`);\r\n        // tu peux afficher un toast/UI ici si besoin\r\n    }\r\n}\r\n","import BaseInterface from \"./_base.js\";\r\n\r\nexport default class UIInterface extends BaseInterface {\r\n    build() {\r\n        super.build();\r\n\r\n        this.defineActions({\r\n            create: { label: \"Créer\", icon: this._svgPlus?.() || \"\" },\r\n            reply: { label: \"Répondre\", icon: this._svgReply?.() || \"\" },\r\n            \"new-pm\": { label: \"Nouveau MP\", icon: this._svgMail?.() || \"\" },\r\n            delete: { label: \"Supprimer\", icon: this._svgTrash?.() || \"\" },\r\n        });\r\n\r\n        const pageType = this.adapter.pagetype;\r\n        console.log(pageType);\r\n        switch (pageType) {\r\n            case \"inbox\":\r\n                this.setActions([\"create\", \"new-pm\", \"delete\"]);\r\n                this.selectAction(\"create\");\r\n                break;\r\n\r\n                break;\r\n            case \"profile\":\r\n            case \"topic\":\r\n                this.setActions([\"new-pm\", \"ban\", \"unban\"]);\r\n                this.selectAction(\"new-pm\");\r\n                break;\r\n                /**\r\n                 * Build the profile UI components\r\n                 * which means :\r\n                 * we need to filter what actions are possibles based on the current page\r\n                 * edit profile, ban, unban user, etc.\r\n                 * when viewing a profile, put \"new private message\" to this user button dropdown (from BaseInterface and already built inside this.container) as first and already selected\r\n                 */\r\n                break;\r\n            case \"forum\":\r\n                break;\r\n            case \"category\":\r\n                break;\r\n            case \"topic\":\r\n                /**\r\n                 * Build the topic UI components\r\n                 * which means :\r\n                 * we need to filter what actions are possibles based on the current page\r\n                 * like reply to topic, report topic, etc.\r\n                 * when viewing a topic, put \"reply\" button dropdown (from BaseInterface and already built inside this.container) as first and already selected\r\n                 */\r\n                this.morphButtonDropdown(\"reply\");\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}\r\n","// src/core/jsonld.js\r\n// Utilitaires de parsing JSON‑LD (BreadcrumbList, DiscussionForumPosting, …)\r\n// - découplé du thème\r\n// - extensible via un registre de handlers\r\n\r\n/** Récupère tous les <script type=\"application/ld+json\"> du document */\r\nexport function getJsonLdNodes(doc = document) {\r\n    return Array.from(\r\n        doc.querySelectorAll('script[type=\"application/ld+json\"]')\r\n    );\r\n}\r\n\r\n/** Parse un <script> en JSON JS (retourne [] si erreur) */\r\nexport function parseJsonLdScript(node) {\r\n    try {\r\n        const txt = (node?.textContent || \"\").trim();\r\n        if (!txt) return [];\r\n        const parsed = JSON.parse(txt);\r\n        return normalizeJsonLdRoot(parsed);\r\n    } catch {\r\n        return [];\r\n    }\r\n}\r\n\r\n/** Normalise la racine: peut être objet, tableau, ou contenir @graph */\r\nexport function normalizeJsonLdRoot(root) {\r\n    const arr = Array.isArray(root) ? root : [root];\r\n    // aplatis les @graph éventuels\r\n    const items = [];\r\n    for (const it of arr) {\r\n        if (it && Array.isArray(it[\"@graph\"])) items.push(...it[\"@graph\"]);\r\n        else items.push(it);\r\n    }\r\n    // filtre les objets valides ayant un @type\r\n    return items.filter((x) => x && typeof x === \"object\" && x[\"@type\"]);\r\n}\r\n\r\n/* ===========================\r\n   Handlers par type JSON-LD\r\n   =========================== */\r\n\r\n/** Handler: BreadcrumbList → { type:'BreadcrumbList', items:[{position,url,name}] } */\r\nexport function extractBreadcrumbList(obj) {\r\n    if (\r\n        obj[\"@type\"] !== \"BreadcrumbList\" ||\r\n        !Array.isArray(obj.itemListElement)\r\n    )\r\n        return null;\r\n    const items = obj.itemListElement\r\n        .filter((li) => li && li[\"@type\"] === \"ListItem\" && li.item)\r\n        .map((li) => ({\r\n            position: Number(li.position) || null,\r\n            url: (li.item && (li.item[\"@id\"] || li.item.url)) || null,\r\n            name: (li.item && li.item.name) || null,\r\n        }));\r\n    return items.length ? { type: \"BreadcrumbList\", items } : null;\r\n}\r\n\r\n/** Handler: DiscussionForumPosting → objet normalisé du topic */\r\nexport function extractDiscussionForumPosting(obj) {\r\n    if (obj[\"@type\"] !== \"DiscussionForumPosting\") return null;\r\n    const interaction = obj.interactionStatistic || {};\r\n    const interactionCount = Number(interaction.userInteractionCount) || null;\r\n    return {\r\n        type: \"DiscussionForumPosting\",\r\n        headline: obj.headline || null,\r\n        name: obj.name || null,\r\n        url: obj.url || null,\r\n        datePublished: obj.datePublished || null,\r\n        dateModified: obj.dateModified || null,\r\n        pageStart: Number(obj.pageStart) || null,\r\n        pageEnd: Number(obj.pageEnd) || null,\r\n        author: obj.author?.name || null,\r\n        author_url: obj.author?.url || null,\r\n        publisher: obj.publisher?.name || null,\r\n        logo: obj.publisher?.logo?.url || null,\r\n        image: obj.image || null,\r\n        interactionCount,\r\n    };\r\n}\r\n\r\n/* ===========================\r\n   Registre extensible\r\n   =========================== */\r\n\r\nconst defaultHandlers = new Map([\r\n    [\"BreadcrumbList\", extractBreadcrumbList],\r\n    [\"DiscussionForumPosting\", extractDiscussionForumPosting],\r\n]);\r\n\r\n/** Permet d’enregistrer/écraser un handler pour un @type donné */\r\nexport function registerJsonLdHandler(type, handlerFn) {\r\n    defaultHandlers.set(type, handlerFn);\r\n}\r\n\r\n/**\r\n * Parse tout le JSON‑LD de la page et renvoie un objet par type.\r\n * @param {Document} doc\r\n * @param {string[]=} onlyTypes liste de types à extraire (sinon tous ceux connus)\r\n * @returns {{ byType: Record<string, any[]>, all: any[] }}\r\n */\r\nexport function extractJsonLd(doc = document, onlyTypes) {\r\n    const nodes = getJsonLdNodes(doc);\r\n    const resultsByType = {};\r\n    const allRaw = [];\r\n\r\n    for (const node of nodes) {\r\n        const items = parseJsonLdScript(node);\r\n        for (const obj of items) {\r\n            const t = Array.isArray(obj[\"@type\"])\r\n                ? obj[\"@type\"][0]\r\n                : obj[\"@type\"];\r\n            allRaw.push(obj);\r\n\r\n            // Filtrage par types demandés (facultatif)\r\n            if (onlyTypes && !onlyTypes.includes(t)) continue;\r\n\r\n            // Si on a un handler, on l’applique\r\n            const handler = defaultHandlers.get(t);\r\n            if (handler) {\r\n                const normalized = handler(obj);\r\n                if (normalized) {\r\n                    if (!resultsByType[t]) resultsByType[t] = [];\r\n                    resultsByType[t].push(normalized);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return { byType: resultsByType, all: allRaw };\r\n}\r\n\r\n/** Raccourcis pratiques pour les 2 types courants */\r\nexport function extractBreadcrumbs(doc = document) {\r\n    return (\r\n        extractJsonLd(doc, [\"BreadcrumbList\"]).byType[\"BreadcrumbList\"] || []\r\n    );\r\n}\r\n\r\nexport function extractDiscussion(doc = document) {\r\n    return (\r\n        extractJsonLd(doc, [\"DiscussionForumPosting\"]).byType[\r\n            \"DiscussionForumPosting\"\r\n        ] || []\r\n    );\r\n}\r\n","export function parsePagination(\r\n    doc,\r\n    { pageSizeOverride, defaultPageSize = 50 } = {}\r\n) {\r\n    const out = {\r\n        current: undefined,\r\n        total: undefined,\r\n        page_size_detected: undefined,\r\n    };\r\n\r\n    // 1) Trouver le conteneur de pagination\r\n    const pager =\r\n        doc.querySelector(\".pagination\") ||\r\n        doc.querySelector(\".pagelink\") ||\r\n        doc.querySelector(\".topic-actions .pagination\");\r\n    if (pager) {\r\n        const txt = pager.textContent.replace(/\\s+/g, \" \").trim().toLowerCase();\r\n        // \"page 1 sur 750\" (FR) ou \"page 1 of 750\" (EN)\r\n        const m = txt.match(/page\\s+(\\d+)\\s+(?:sur|of)\\s+(\\d+)/i);\r\n        if (m) {\r\n            out.current = Number(m[1]);\r\n            out.total = Number(m[2]);\r\n        }\r\n    }\r\n\r\n    // 2) Heuristique taille de page : (a) override\r\n    let pageSize = Number.isFinite(pageSizeOverride)\r\n        ? pageSizeOverride\r\n        : undefined;\r\n\r\n    // 3) (b) Script inline Forumactif : start = (start - 1) * 35;\r\n    if (!pageSize && pager) {\r\n        for (const s of pager.querySelectorAll(\"script\")) {\r\n            const code = s.textContent || \"\";\r\n            const mm = code.match(/start\\s*=\\s*\\(start\\s*-\\s*1\\)\\s*\\*\\s*(\\d+)/);\r\n            if (mm) {\r\n                pageSize = Number(mm[1]);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    // 4) (c) Déduction via les liens /f103p35-... /f103p70-...\r\n    if (!pageSize && pager) {\r\n        const ps = [];\r\n        pager.querySelectorAll('a[href*=\"/f\"][href*=\"p\"]').forEach((a) => {\r\n            const href = a.getAttribute(\"href\") || \"\";\r\n            const m2 = href.match(/\\/f\\d+p(\\d+)-/i);\r\n            if (m2) ps.push(Number(m2[1]));\r\n        });\r\n        // La plus petite valeur non nulle correspond généralement à la taille de page\r\n        if (ps.length) {\r\n            const minPos = Math.min(...ps.filter((n) => n > 0));\r\n            if (Number.isFinite(minPos)) pageSize = minPos;\r\n        }\r\n    }\r\n\r\n    // 5) Fallback\r\n    if (!pageSize) pageSize = defaultPageSize;\r\n\r\n    out.page_size_detected = pageSize;\r\n    return out;\r\n}\r\n","import { getDirectText, idsFromHref } from \"../core/utils.js\";\r\nimport { extractBreadcrumbs } from \"../core/jsonld.js\";\r\nimport { parsePagination } from \"./pagination.js\";\r\n\r\n// Compte les lignes de sujets (selon plusieurs templates)\r\nconst countTopics = (doc) => {\r\n    const candidates = [\r\n        \"tr.topic\", // phpBB3\r\n        \"tr.rowtopic\", // anciens thèmes\r\n        \"li.topic\", // ModernBB/PunBB custom\r\n        \"div.topic\", // variantes\r\n        \"div.topics li\", // listes\r\n        \"a.topictitle\", // phpBB-like\r\n        \".topicslist_row.row\", // fallback parfois utile\r\n    ];\r\n    let max = 0;\r\n    for (const sel of candidates) {\r\n        const c = doc.querySelectorAll(sel).length;\r\n        max = Math.max(max, c);\r\n    }\r\n    // si on trouve 0, on ne renvoie rien (undefined)\r\n    return max || undefined;\r\n};\r\n\r\n// Récupère des métadonnées (titre, fil d’Ariane)\r\nconst readForumMeta = (doc) => {\r\n    // Titre de la page\r\n    const titleEl = doc.querySelector(\"h1.page-title, h1, .page-title\");\r\n    const name =\r\n        getDirectText(titleEl) ||\r\n        (titleEl?.textContent || \"\").trim() ||\r\n        undefined;\r\n\r\n    // id forum via canonical, breadcrumb ou premier lien /fXX-\r\n    let forum_id;\r\n    const canonical =\r\n        doc.querySelector('link[rel=\"canonical\"]')?.getAttribute(\"href\") || \"\";\r\n    forum_id = idsFromHref(canonical).forum_id;\r\n\r\n    // lien forum courant (utile pour re-naviguer)\r\n    const forumHref = canonical;\r\n\r\n    return {\r\n        name,\r\n        forum_id: Number.isFinite(forum_id) ? forum_id : undefined,\r\n        forumHref,\r\n    };\r\n};\r\n\r\n// Détection permission (peut varier)\r\n// Grossièrement selon la présence d’un bouton \"Nouveau\", \"Nouveau sujet\" ou d’un formulaire\r\nconst readPermissions = (doc) => {\r\n    const canPost =\r\n        !!doc.querySelector(\r\n            'a[href*=\"mode=newtopic\"], a[href*=\"post?f=\"], .button-newtopic, .btn-newtopic'\r\n        ) ||\r\n        !!doc.querySelector(\r\n            'form[action*=\"mode=newtopic\"], form[action*=\"/post\"]'\r\n        );\r\n\r\n    return { can_post: canPost };\r\n};\r\n\r\nexport function parseForumStats(\r\n    doc,\r\n    { pageSizeOverride, defaultPageSize = 50 } = {}\r\n) {\r\n    const meta = readForumMeta(doc);\r\n    const topicsListCount = countTopics(doc);\r\n    const perms = readPermissions(doc);\r\n\r\n    const pagination = parsePagination(doc, {\r\n        pageSizeOverride,\r\n        defaultPageSize,\r\n    });\r\n    const topics_estimated =\r\n        Number.isFinite(pagination.total) &&\r\n        Number.isFinite(pagination.page_size_detected)\r\n            ? pagination.total * pagination.page_size_detected\r\n            : undefined;\r\n\r\n    return {\r\n        id: meta.forum_id,\r\n        name: meta.name,\r\n        topics_count: topics_estimated ?? topicsListCount,\r\n        href: meta.forumHref || undefined,\r\n        pagination: {\r\n            current: pagination.current,\r\n            total: pagination.total,\r\n            page_size: pagination.page_size_detected,\r\n            topics_estimated: topics_estimated, // estimation globale par pagination\r\n            topics_visible: topicsListCount || undefined, // comptage réel de la page courante\r\n        },\r\n        permissions: perms,\r\n    };\r\n}\r\n","import { parseFromUrl } from \"../core/utils.js\";\r\nimport { parsePagination } from \"./pagination.js\";\r\n\r\nfunction countReplies(doc) {\r\n    const candidates = [\".postbody\"];\r\n    let max = 0;\r\n    for (const sel of candidates) {\r\n        const c = doc.querySelectorAll(sel).length;\r\n        max = Math.max(max, c);\r\n    }\r\n    // si on trouve 0, on ne renvoie rien (undefined)\r\n    return max || undefined;\r\n}\r\n\r\nexport function parseTopicStats(\r\n    doc,\r\n    { pageSizeOverride, defaultPageSize = 25 } = {}\r\n) {\r\n    const discussion = extractDiscussion(doc)[0] || null;\r\n    const breadcrumb = extractBreadcrumbs(doc)[0] || null;\r\n\r\n    const title =\r\n        discussion?.headline ||\r\n        doc.querySelector(\"h1.page-title\")?.textContent?.trim() ||\r\n        null;\r\n    const canonical = doc.querySelector('link[rel=\"canonical\"]')?.href || null;\r\n\r\n    const meta = parseFromUrl(canonical);\r\n    const url = canonical || null;\r\n    const topic_id = meta.id || null;\r\n\r\n    const repliesListCount = countReplies(doc);\r\n\r\n    // 2) JSON‑LD (dates + total comments/pages)\r\n\r\n    // 4) Pagination visible\r\n    const pagination = parsePagination(doc, {\r\n        pageSizeOverride,\r\n        defaultPageSize,\r\n    });\r\n    const replies_estimated =\r\n        Number.isFinite(pagination.total) &&\r\n        Number.isFinite(pagination.page_size_detected)\r\n            ? pagination.total * pagination.page_size_detected\r\n            : undefined;\r\n\r\n    return {\r\n        id: topic_id,\r\n        url,\r\n        slug: meta.slug || null,\r\n        title,\r\n        pagination: {\r\n            current: pagination.current,\r\n            total: pagination.total,\r\n            page_size: pagination.page_size_detected,\r\n            replies_estimated: replies_estimated, // estimation globale par pagination\r\n            replies_visible: repliesListCount || undefined, // comptage réel de la page courante\r\n        },\r\n        replies_count: replies_estimated ?? repliesListCount,\r\n    };\r\n}\r\n","import { state } from \"./core/state.js\";\r\nimport { extractDiscussion, extractBreadcrumbs } from \"./core/jsonld.js\";\r\nimport { getDirectText, text } from \"./core/utils.js\";\r\nimport { parseForumStats } from \"./parsers/statsForum.js\";\r\nimport { parseTopicStats } from \"./parsers/statsTopic.js\";\r\n\r\nfunction parseMiscVars(data) {\r\n    const misc = {};\r\n    data.querySelectorAll(\"ul a\").forEach((el) => {\r\n        const l = el.innerText.replace(/[^a-zA-Z]/gi, \"\");\r\n        misc[l] = getDirectText(el.parentNode).replace(/^:/gi, \"\").trim();\r\n    });\r\n\r\n    misc[\"FORUMAGETYPE\"] = \"jours\";\r\n\r\n    misc[\"NOWDAY\"] = new Date().getDate();\r\n    misc[\"NOWMONTH\"] = new Date().getMonth() + 1;\r\n    misc[\"NOWYEAR\"] = new Date().getFullYear();\r\n    misc[\"NOWHOUR\"] = new Date().getHours();\r\n    misc[\"NOWMINUTE\"] = new Date().getMinutes();\r\n\r\n    misc[\"FORUMLASTUSERLINK\"] = misc[\"FORUMLASTUSERLINK\"].replace(\r\n        misc[\"FORUMURLINK\"],\r\n        \"\"\r\n    );\r\n    misc[\"USERLINK\"] = misc[\"USERLINK\"].replace(misc[\"FORUMURLINK\"], \"\");\r\n    misc[\"FORUMLASTUSERID\"] = misc[\"FORUMLASTUSERLINK\"].replace(/[^0-9]/gi, \"\");\r\n\r\n    return {\r\n        misc,\r\n    };\r\n}\r\n\r\nasync function computeStats({\r\n    scope = \"auto\",\r\n    fetchExtra = [],\r\n    forum = {},\r\n    topic = {},\r\n} = {}) {\r\n    const t0 = performance.now();\r\n    const sources = new Set();\r\n    const stats = {};\r\n\r\n    const doc = document;\r\n    const effective = scope === \"auto\" ? state.pagetype || \"auto\" : scope;\r\n\r\n    const defaultExtras = [\r\n        {\r\n            url: \"/popup_help.forum?l=miscvars&i=mes_txt\",\r\n            callback: parseMiscVars,\r\n        },\r\n    ];\r\n    const extras = [...defaultExtras, ...fetchExtra];\r\n\r\n    if (\r\n        effective === \"topic\" ||\r\n        (effective === \"auto\" && state.pagetype === \"forum\")\r\n    ) {\r\n        stats.topic =\r\n            state.pagetype === \"topic\"\r\n                ? parseTopicStats(doc, topic)\r\n                : undefined;\r\n    }\r\n    if (effective === \"forum\" || effective === \"auto\") {\r\n        stats.forum =\r\n            state.pagetype === \"forum\"\r\n                ? parseForumStats(doc, forum)\r\n                : undefined;\r\n    }\r\n\r\n    for (const { url, callback } of extras) {\r\n        try {\r\n            const r = await fetch(url, { credentials: \"same-origin\" });\r\n            sources.add(url);\r\n\r\n            // Détecte le type de réponse\r\n            const ct = r.headers.get(\"content-type\") || \"\";\r\n            let payload;\r\n            if (ct.includes(\"html\")) {\r\n                const html = await r.text();\r\n                payload = new DOMParser().parseFromString(html, \"text/html\");\r\n            } else if (ct.includes(\"json\")) {\r\n                payload = await r.json();\r\n            } else {\r\n                payload = await r.text();\r\n            }\r\n\r\n            const res = await callback(payload);\r\n            if (res && typeof res === \"object\") {\r\n                // Merge « doux »\r\n                for (const [k, v] of Object.entries(res)) {\r\n                    if (typeof v === \"object\" && typeof stats[k] === \"object\") {\r\n                        stats[k] = { ...stats[k], ...v };\r\n                    } else {\r\n                        stats[k] = v;\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Merge « intelligent » sur les clés attendues\r\n            Object.assign(stats, res);\r\n        } catch (e) {\r\n            console.error(\"Error fetching extra data:\", e);\r\n        }\r\n    }\r\n\r\n    stats.computed_at = new Date().toISOString();\r\n    stats.elapse_ms = Math.round(performance.now() - t0);\r\n    stats.sources = Array.from(sources);\r\n    return stats;\r\n}\r\n\r\nexport async function env(options = {}) {\r\n    const doc = document;\r\n    const statsWanted = !!options?.stats;\r\n    const forumPageSize = options?.stats?.forum?.pageSize;\r\n\r\n    const discussion = extractDiscussion(doc)[0] || null;\r\n    const breadcrumbs = extractBreadcrumbs(doc)[0] || null;\r\n\r\n    const u = location;\r\n    const hash = u.hash ? u.hash.substring(1) : null;\r\n\r\n    const _ud = typeof _userdata !== \"undefined\" ? _userdata : {};\r\n    const _bd = typeof _board !== \"undefined\" ? _board : {};\r\n\r\n    const data = {\r\n        board: {\r\n            tpl: _ud[\"tpl_used\"],\r\n            reputation_active: Number(_bd[\"reputation_active\"]),\r\n        },\r\n        page: {\r\n            url: u.href,\r\n            type: state.pagetype,\r\n            id: state.resid,\r\n            number: state.pagenum,\r\n            charset: state.charset,\r\n            anchor: hash,\r\n        },\r\n        user: {\r\n            t_id: state.tid,\r\n            name: _ud[\"username\"],\r\n            id: Number(_ud[\"user_id\"]) || undefined,\r\n            is_logged: Number(_ud[\"session_logged_in\"]) === 1,\r\n            is_guest: Number(_ud[\"user_id\"]) === -1,\r\n            is_admin: Number(_ud[\"user_level\"]) == 1,\r\n            is_mod: (Number(_ud[\"user_level\"]) || 0) > 0,\r\n            lang: _ud[\"user_lang\"],\r\n            notifications: Number(_ud[\"notifications\"]),\r\n            avatar: _ud[\"avatar\"],\r\n            avatar_link: _ud[\"avatar_link\"],\r\n            posts: Number(_ud[\"userposts\"]) || undefined,\r\n            privmsgs_count: Number(_ud[\"user_nb_privmsgs\"]) || undefined,\r\n            group_color: _ud[\"groupcolor\"],\r\n        },\r\n        schema: {\r\n            discussion,\r\n            breadcrumbs,\r\n        },\r\n    };\r\n\r\n    if (statsWanted) {\r\n        const s = await computeStats({\r\n            scope: options.scope || \"auto\",\r\n            fetchExtra: options.fetchExtra || [],\r\n            forum: { pageSize: forumPageSize },\r\n        });\r\n        data.stats = s;\r\n    }\r\n\r\n    return data;\r\n}\r\n","import forumactifAdapter from \"./adapters/forumactif.js\";\r\nimport ForumResource from \"./actions/forum.js\";\r\nimport TopicResource from \"./actions/topic.js\";\r\nimport PostResource from \"./actions/post.js\";\r\nimport UserResource from \"./actions/user.js\";\r\nimport ChatResource from \"./actions/chat.js\";\r\nimport UIInterface from \"./interfaces/ui.js\";\r\nimport { env as envFn } from \"./env.js\";\r\n\r\nconst ENV_GLOBAL_KEY = \"__MODERACTOR_ENV__\";\r\n\r\nconst getGlobal = () => {\r\n    if (typeof globalThis !== \"undefined\") return globalThis;\r\n    if (typeof window !== \"undefined\") return window;\r\n    if (typeof global !== \"undefined\") return global;\r\n    return {};\r\n};\r\n\r\nfunction cacheEnv(value) {\r\n    const g = getGlobal();\r\n    Moderactor._env = value;\r\n    try {\r\n        g[ENV_GLOBAL_KEY] = value;\r\n    } catch {}\r\n    return value;\r\n}\r\n\r\nfunction getCachedEnv() {\r\n    if (Moderactor._env) return Moderactor._env;\r\n    const g = getGlobal();\r\n    if (g[ENV_GLOBAL_KEY]) return (Moderactor._env = g[ENV_GLOBAL_KEY]);\r\n    return null;\r\n}\r\n\r\nfunction refreshEnv(opts = {}) {\r\n    const computed = envFn(opts);\r\n    return cacheEnv(computed);\r\n}\r\n\r\nconst Moderactor = {\r\n    get env() {\r\n        const cached = getCachedEnv();\r\n        return cached ?? refreshEnv({ stats: true });\r\n    },\r\n    set env(opts = {}) {\r\n        return refreshEnv(opts);\r\n    },\r\n    forum: (idOrArray) => {\r\n        if (!getCachedEnv()) refreshEnv({ stats: true });\r\n        return new ForumResource(idOrArray, forumactifAdapter);\r\n    },\r\n    topic: (idOrArray) => {\r\n        if (!getCachedEnv()) refreshEnv({ stats: true });\r\n        return new TopicResource(idOrArray, forumactifAdapter);\r\n    },\r\n    post: (idOrArray) => {\r\n        if (!getCachedEnv()) refreshEnv({ stats: true });\r\n        return new PostResource(idOrArray, forumactifAdapter);\r\n    },\r\n    user: (idOrArray) => {\r\n        if (!getCachedEnv()) refreshEnv({ stats: true });\r\n        return new UserResource(idOrArray, forumactifAdapter);\r\n    },\r\n    chat: () => {\r\n        if (!getCachedEnv()) refreshEnv({ stats: true });\r\n        return new ChatResource(forumactifAdapter);\r\n    },\r\n    ui: (options) => {\r\n        if (!getCachedEnv()) refreshEnv({ stats: true });\r\n        return new UIInterface(forumactifAdapter, options);\r\n    },\r\n    adapter: forumactifAdapter,\r\n};\r\n\r\nif (typeof window !== \"undefined\") {\r\n    window.Moderactor = Moderactor;\r\n}\r\n\r\nexport default Moderactor;\r\n"],"names":["extractBreadcrumbs","extractDiscussion","envFn"],"mappings":"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"}